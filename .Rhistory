knitr::opts_chunk$set(echo = TRUE)
# install.packages("EnvStats")
library(EnvStats)
library(car)
library(foreign)
getwd()
datos_enteros<-read.spss("DB_3.sav", to.data.frame = TRUE)
#Cogemos las variables de interes
#datos<-datos_enteros[,32:46]
datos_enteros
datos_enteros.colnames
datos_enteros.colnames()
names(datos_enteros)
getwd()
datos<-read.spss("DB_3.sav", to.data.frame = TRUE)
head(datos)
# install.packages("EnvStats")
library(EnvStats)
library(car)
library(foreign)
getwd()
datos<-read.spss("DB_3.sav", to.data.frame = TRUE)
head(datos)
datos<-read.spss("DB_3.sav", to.data.frame = TRUE)
cbind(apply(is.na(datos),2,sum),apply(is.na(datos),2,sum)/dim(datos)[1])
View(datos)
View(datos)
datos['marrueco']
datos['zlibrop']
datos['ZTLIBROP']
datos['ZTLIBROP'$22]
datos['ZTLIBROP']
datos$ZTLIBROP
datos['ZTLIBROP']
datos[34,'ZTLIBROP']
datos[2,'ZTLIBROP']
datos[22,'ZTLIBROP']
datos['marrueco','ZTLIBROP']
datos['marrueco','ZTLIBROP']
datos['Marrueco','ZTLIBROP']
datos['Marrueco','ztlibrop']
datos['Marrueco','ZTLIBROP']
datos['marrueco','ZTLIBROP']
faltantes<-which(is.na(datos$zcaloría))
cor(datos[-faltantes,],use="complete.obs")[,"zcaloría"]
# install.packages("EnvStats")
library(EnvStats)
library(car)
library(foreign)
getwd()
datos_enteros<-read.spss("DB_1.sav", to.data.frame = TRUE)
faltantes<-which(is.na(datos$ZTLIBROP))
cor(datos[-faltantes,],use="complete.obs")[,"ztlibrop"]
# install.packages("EnvStats")
library(EnvStats)
library(car)
library(foreign)
getwd()
datos_enteros<-read.spss("DB_1.sav", to.data.frame = TRUE)
#Cogemos las variables de interes
datos<-datos_enteros[,32:46]
# install.packages("EnvStats")
library(EnvStats)
library(car)
library(foreign)
getwd()
datos_enteros<-read.spss("DB_1.sav", to.data.frame = TRUE)
#Cogemos las variables de interes
datos<-datos_enteros[,32:46]
getwd()
datos_enteros<-read.spss("DB_1.sav", to.data.frame = TRUE)
#Cogemos las variables de interes
datos<-datos_enteros[,32:46]
faltantes<-which(is.na(datos$ZTLIBROP))
cor(datos[-faltantes,],use="complete.obs")#[,"ztlibrop"]
faltantes<-which(is.na(datos$ZTLIBROP))
cor(datos[-faltantes,])#[,"ztlibrop"]
faltantes<-which(is.na(datos$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
faltantes
faltantes<-which(is.na(datos$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
datos[-faltantes,]
faltantes<-which(is.na(datos$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor(datos[-faltantes,])
str(datos)
faltantes<-which(is.na(datos$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor(datos[-c(faltantes, PAIS),])
#datos_aux = datos[-'PAIS']
faltantes<-which(is.na(datos$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor(datos[-c(faltantes, 'PAIS'),])
datos_aux = datos[-'PAIS']
datos_aux = datos[-1]
faltantes<-which(is.na(datos_aux$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor(datos_aux[-faltantes,])
datos_aux = datos[-1]
faltantes<-which(is.na(datos_aux$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor(datos_aux[-faltantes,])[,'ztlibrop']
datos_aux = datos[-1,]
faltantes<-which(is.na(datos_aux$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor(datos_aux[-faltantes,])[,'ztlibrop']
datos_aux = datos[-1,]
faltantes<-which(is.na(datos_aux$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor(datos_aux[-faltantes,])[,'ztlibrop']
datos_aux = datos[-1,]
faltantes<-which(is.na(datos_aux$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor(datos_aux[-faltantes,])[,'ztlibrop']
datos_aux = datos[-1,]
faltantes<-which(is.na(datos_aux$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor(datos_aux[-faltantes,])[,'ztlibrop']
# install.packages("EnvStats")
library(EnvStats)
library(car)
library(foreign)
datos<-read.spss("DB_3.sav", to.data.frame = TRUE)
head(datos)
cbind(apply(is.na(datos),2,sum),apply(is.na(datos),2,sum)/dim(datos)[1])
datos['marrueco','ZTLIBROP']
datos_aux = datos[-1,]
faltantes<-which(is.na(datos_aux$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor(datos_aux[-faltantes,])[,'ztlibrop']
datos_aux = datos[-1,]
faltantes<-which(is.na(datos_aux$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor(datos_aux[-faltantes,])#[,'ztlibrop']
datos<-read.spss("DB_3.sav", to.data.frame = TRUE)
datos_aux <- datos[-1,]
faltantes<-which(is.na(datos_aux$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor_matrix <- cor(datos_aux[-faltantes,])#[,'ztlibrop']
datos_aux
str(datos_aux)
datos_aux <- datos[,-1]
faltantes<-which(is.na(datos_aux$ZTLIBROP))
#cor(datos[-faltantes,])#[,"ztlibrop"]
cor_matrix <- cor(datos_aux[-faltantes,])#[,'ztlibrop']
cor_matrix[,'ZTLIBROP']
datos_aux <- datos[,-1]
faltantes<-which(is.na(datos_aux$ZTLIBROP))
cor_matrix <- cor(datos_aux[-faltantes,])#[,'ztlibrop']
cor_matrix[,'ZTLIBROP']
datos_aux <- datos[,-1]
faltantes<-which(is.na(datos_aux$ZTLIBROP))
cor_matrix <- cor(datos_aux[-faltantes,], use = "complete.obs")
cor_matrix[,'ZTLIBROP']
t.test(datos$zlog_pib[faltantes], datos$zlog_pib[-faltantes])
t.test(datos$ZESPVIDA[faltantes], datos$ZESPVIDA[-faltantes])
not_available<-function(data,na.rm=F){
data[is.na(data)]<-mean(data,na.rm=T)
data
}
datos_pca<-as.data.frame(apply(datos, 2, not_available))
not_available<-function(data,na.rm=F){
data[is.na(data)]<-mean(data,na.rm=T)
data
}
datos_pca$ZLIBROP<-not_available(datos$ZLIBROP)
datos$ZTLIBROP
mean(datos$ZTLIBROP, na.rm=T)
#mean(datos$ZTLIBROP, na.rm=T)
datos$ZTLIBROP[is.na(datos$ZTLIBROP)]
not_available<-function(data,na.rm=F){
data[is.na(data)]<-mean(data,na.rm=T)
data
}
datos$ZLIBROP<-not_available(datos$ZLIBROP)
not_available<-function(data,na.rm=F){
data[is.na(data)]<-mean(data,na.rm=T)
data
}
datos$ZTLIBROP<-not_available(datos$ZTLIBROP)
#mean(datos$ZTLIBROP, na.rm=T)
datos$ZTLIBROP[is.na(datos$ZTLIBROP)]
not_available<-function(data,na.rm=F){
data[is.na(data)]<-mean(data,na.rm=T)
data
}
datos$ZTLIBROP<-not_available(datos$ZTLIBROP)
#Definimos las medidas resistentes
PMC<-function(x){ return((as.double(quantile(x,0.25))+as.double(quantile(x,0.75)))/2)}
trimedia<-function(x){return((median(x)+PMC(x))/2)}
centrimedia<-function(x){
indices<-(x>quantile(x,0.25)&x<quantile(x,0.75))
valores<-x[indices]
return(sum(valores)/length(valores))
}
RIQ<-function(x){return(quantile(x,0.75)-quantile(x,0.25))}
MEDA<-function(x){return(median(abs(x-median(x))))}
CVc<-function(x){return((quantile(x,0.75)-quantile(x,0.25))/(quantile(x,0.75)+quantile(x,0.25)))}
H1<-function(x){return((quantile(x,0.25)+quantile(x,0.75)-2*median(x))/(2*median(x)))}
H2<-function(x){return(median(x)-(quantile(x,0.1)+quantile(x,0.9))/(2))}
H3<-function(x){return(H2(x)/median(x))}
#Creamos una función que aplique todas estas medidas
descriptivo<-function(x){
temp<-rbind(PMC(x),trimedia(x),centrimedia(x))
rownames(temp)<-c("PMC","Trimedia","Centrimedia")
centralidad<-list(clasica=list(media=mean(x)),resistente=temp)
temp<-rbind(RIQ(x),MEDA(x),CVc(x))
rownames(temp)<-c("Rango Inter-Cuartílico","MEDA","CVc")
dispersion<-list(clasica=list(desviación_típica=sd(x),Coef_varización=sd(x)/mean(x),rango=range(x)),resistente=temp)
temp<-rbind(H1(x),H2(x),H3(x))
rownames(temp)<-c("Asimetría de Yule","Asimetría de Kelly","Asimetría de Kelly adimensional")
forma<-list(clasica=list(skewness=skewness(x),kurtosis=kurtosis(x)),resistente=temp)
cat(names(x))
return(list(centralidad=centralidad,dispersion=dispersion,forma=forma))
}
View(datos_aux)
descriptivo(datos_pca[,1])
descriptivo(datos[,1])
descriptivo(datos[,2])
hist(col="darkblue",datos[,2],main="Densidad de población")
